# –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Vite + ES6

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å Webpack –Ω–∞ Vite
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite –¥–ª—è React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è legacy –∫–æ–¥–∞
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã webpack —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ package.json
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∫–∏

### 2. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è ES5 –≤ ES6+
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω `truRequire.js` –≤ ES6 –º–æ–¥—É–ª–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `app.js` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ES6 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω `vendor.js` —Å ES6 –∏–º–ø–æ—Ä—Ç–∞–º–∏
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –≤ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### 3. –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏

#### –°–∫—Ä–∏–ø—Ç—ã –≤ package.json:
```json
{
  "dev": "vite",                    // –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  "dev:legacy": "vite --config vite.legacy.config.js", // –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ legacy –∫–æ–¥–∞
  "build": "npm run build:react && npm run build:legacy", // –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞
  "build:react": "vite build",     // –°–±–æ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ React
  "build:legacy": "vite build --config vite.legacy.config.js", // –°–±–æ—Ä–∫–∞ legacy
  "build:old": "grunt build"       // –°—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ (–¥–ª—è –æ—Ç–∫–∞—Ç–∞)
}
```

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–±–æ—Ä–∫–∏:
- **React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: `public/js/app.js` (2.8MB)
- **Legacy –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: `public/js/app.js` (2.3KB)
- **Vendor –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**: `public/js/vendor.js` (2.3MB)
- **TruRequire –º–æ–¥—É–ª—å**: `public/js/truRequire.js` (379B)

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –ó–∞–ø—É—Å–∫ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –ó–∞–ø—É—Å–∫ legacy –∫–æ–¥–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev:legacy

# –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
npm start
```

### –°–±–æ—Ä–∫–∞
```bash
# –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ (React + Legacy)
npm run build

# –¢–æ–ª—å–∫–æ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm run build:react

# –¢–æ–ª—å–∫–æ legacy –∫–æ–¥
npm run build:legacy

# –°—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞)
npm run build:old
```

## üìÅ –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### `vite.config.js` - React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –í—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞: `src/client/app.jsx`
- –§–æ—Ä–º–∞—Ç: IIFE –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ API –Ω–∞ –ø–æ—Ä—Ç 8118

### `vite.legacy.config.js` - Legacy –∫–æ–¥
- –í—Ö–æ–¥–Ω—ã–µ —Ç–æ—á–∫–∏: `app.js`, `vendor.js`, `truRequire.js`
- –§–æ—Ä–º–∞—Ç: ES –º–æ–¥—É–ª–∏
- –ü–æ–ª–Ω—ã–µ –∞–ª–∏–∞—Å—ã –¥–ª—è –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### ES6 –º–æ–¥—É–ª–∏
- –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç ES6 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- Namespace imports –¥–ª—è vendor –±–∏–±–ª–∏–æ—Ç–µ–∫
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ `window`

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: 2.8MB (742KB gzipped)
- **Legacy –∫–æ–¥**: 2.3MB (717KB gzipped)
- **Source maps**: –í–∫–ª—é—á–µ–Ω—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ES2015+ –±—Ä–∞—É–∑–µ—Ä–æ–≤
- Fallback –¥–ª—è legacy –∫–æ–¥–∞
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è jQuery, Underscore, Moment, UIkit

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **D3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: –¢—Ä–µ–±—É—é—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∏–º–ø–æ—Ä—Ç–æ–≤
2. **–†–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤**: –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è code-splitting)
3. **Eval –≤ history.js**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å D3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
2. –í–Ω–µ–¥—Ä–∏—Ç—å code-splitting –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
3. –£–¥–∞–ª–∏—Ç—å webpack –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å vendor –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
5. –î–æ–±–∞–≤–∏—Ç—å tree-shaking –¥–ª—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- ‚úÖ **–°–±–æ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ **ES6 –º–æ–¥—É–ª–∏** –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–Ω–µ–¥—Ä–µ–Ω—ã
- ‚úÖ **Vite** –∑–∞–º–µ–Ω–∏–ª webpack
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** —É–ª—É—á—à–µ–Ω–∞ (–±—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞)

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π —Å–±–æ—Ä–∫–∏!
